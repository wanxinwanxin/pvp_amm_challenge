{"abi":[{"type":"function","name":"BPS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAX_FEE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MIN_FEE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"WAD","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"afterInitialize","inputs":[{"name":"initialX","type":"uint256","internalType":"uint256"},{"name":"initialY","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"bidFee","type":"uint256","internalType":"uint256"},{"name":"askFee","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"afterSwap","inputs":[{"name":"trade","type":"tuple","internalType":"struct TradeInfo","components":[{"name":"isBuy","type":"bool","internalType":"bool"},{"name":"amountX","type":"uint256","internalType":"uint256"},{"name":"amountY","type":"uint256","internalType":"uint256"},{"name":"timestamp","type":"uint256","internalType":"uint256"},{"name":"reserveX","type":"uint256","internalType":"uint256"},{"name":"reserveY","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"bidFee","type":"uint256","internalType":"uint256"},{"name":"askFee","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"getFeeStructure","inputs":[{"name":"trade","type":"tuple","internalType":"struct TradeInfo","components":[{"name":"isBuy","type":"bool","internalType":"bool"},{"name":"amountX","type":"uint256","internalType":"uint256"},{"name":"amountY","type":"uint256","internalType":"uint256"},{"name":"timestamp","type":"uint256","internalType":"uint256"},{"name":"reserveX","type":"uint256","internalType":"uint256"},{"name":"reserveY","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"fs","type":"tuple","internalType":"struct FeeStructure","components":[{"name":"bidTiers","type":"tuple[3]","internalType":"struct FeeTier[3]","components":[{"name":"threshold","type":"uint256","internalType":"uint256"},{"name":"fee","type":"uint256","internalType":"uint256"}]},{"name":"askTiers","type":"tuple[3]","internalType":"struct FeeTier[3]","components":[{"name":"threshold","type":"uint256","internalType":"uint256"},{"name":"fee","type":"uint256","internalType":"uint256"}]},{"name":"bidTierCount","type":"uint8","internalType":"uint8"},{"name":"askTierCount","type":"uint8","internalType":"uint8"}]}],"stateMutability":"pure"},{"type":"function","name":"getName","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"pure"},{"type":"function","name":"slots","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"supportsFeeStructure","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"pure"}],"bytecode":{"object":"0x608060405234801561001057600080fd5b50610524806100206000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c806376c7a3c71161006657806376c7a3c71461012d578063837aef4714610135578063bc063e1a1461015d578063c2babb5714610165578063cfa144e31461017857600080fd5b806317d7de7c146100a3578063249d39e9146100e1578063387dd9e9146100fc5780635c8ac34f1461010f5780636a1460241461011e575b600080fd5b60408051808201825260138152720546965726564466565735f33305f32305f313606c1b602082015290516100d89190610387565b60405180910390f35b6100ee655af3107a400081565b6040519081526020016100d8565b6100ee61010a3660046103d6565b610198565b604051600181526020016100d8565b6100ee670de0b6b3a764000081565b6100ee600081565b6101486101433660046103ef565b6101af565b604080519283526020830191909152016100d8565b6100ee6101d1565b610148610173366004610411565b6101e7565b61018b610186366004610411565b610207565b6040516100d8919061045e565b600081602081106101a857600080fd5b0154905081565b6000806101bc601e6102cb565b6101c6601e6102cb565b915091509250929050565b6101e4600a670de0b6b3a76400006104a7565b81565b6000806101f4601e6102cb565b6101fe601e6102cb565b91509150915091565b61020f61031a565b61021b6000601e6102e3565b81515261023b610234670de0b6b3a764000060646104c9565b60146102e3565b81516020015261025f610258670de0b6b3a76400006103e86104c9565b600a6102e3565b8151600260200201526003604082015261027b6000601e6102e3565b602082015152610297610234670de0b6b3a764000060646104c9565b60208281015101526102b6610258670de0b6b3a76400006103e86104c9565b60208201516040015260036060820152919050565b60006102dd655af3107a4000836104c9565b92915050565b60408051808201909152600080825260208201526040518060400160405280848152602001610311846102cb565b90529392505050565b604051806080016040528061032d61034e565b815260200161033a61034e565b815260006020820181905260409091015290565b60405180606001604052806003905b604080518082019091526000808252602082015281526020019060019003908161035d5790505090565b60006020808352835180602085015260005b818110156103b557858101830151858201604001528201610399565b506000604082860101526040601f19601f8301168501019250505092915050565b6000602082840312156103e857600080fd5b5035919050565b6000806040838503121561040257600080fd5b50508035926020909101359150565b600060c0828403121561042357600080fd5b50919050565b8060005b600381101561045857815180518552602090810151818601526040909401939091019060010161042d565b50505050565b60006101c082019050610472828451610429565b602083015161048460c0840182610429565b5060ff60408401511661018083015260ff6060840151166101a083015292915050565b6000826104c457634e487b7160e01b600052601260045260246000fd5b500490565b80820281158282048414176102dd57634e487b7160e01b600052601160045260246000fdfea2646970667358221220f37d04b65c8d3ff84d5d1e5ee91bfc1413dcb8c00156e15af968303ab8513e8e64736f6c63430008180033","sourceMap":"632:4123:24:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b506004361061009e5760003560e01c806376c7a3c71161006657806376c7a3c71461012d578063837aef4714610135578063bc063e1a1461015d578063c2babb5714610165578063cfa144e31461017857600080fd5b806317d7de7c146100a3578063249d39e9146100e1578063387dd9e9146100fc5780635c8ac34f1461010f5780636a1460241461011e575b600080fd5b60408051808201825260138152720546965726564466565735f33305f32305f313606c1b602082015290516100d89190610387565b60405180910390f35b6100ee655af3107a400081565b6040519081526020016100d8565b6100ee61010a3660046103d6565b610198565b604051600181526020016100d8565b6100ee670de0b6b3a764000081565b6100ee600081565b6101486101433660046103ef565b6101af565b604080519283526020830191909152016100d8565b6100ee6101d1565b610148610173366004610411565b6101e7565b61018b610186366004610411565b610207565b6040516100d8919061045e565b600081602081106101a857600080fd5b0154905081565b6000806101bc601e6102cb565b6101c6601e6102cb565b915091509250929050565b6101e4600a670de0b6b3a76400006104a7565b81565b6000806101f4601e6102cb565b6101fe601e6102cb565b91509150915091565b61020f61031a565b61021b6000601e6102e3565b81515261023b610234670de0b6b3a764000060646104c9565b60146102e3565b81516020015261025f610258670de0b6b3a76400006103e86104c9565b600a6102e3565b8151600260200201526003604082015261027b6000601e6102e3565b602082015152610297610234670de0b6b3a764000060646104c9565b60208281015101526102b6610258670de0b6b3a76400006103e86104c9565b60208201516040015260036060820152919050565b60006102dd655af3107a4000836104c9565b92915050565b60408051808201909152600080825260208201526040518060400160405280848152602001610311846102cb565b90529392505050565b604051806080016040528061032d61034e565b815260200161033a61034e565b815260006020820181905260409091015290565b60405180606001604052806003905b604080518082019091526000808252602082015281526020019060019003908161035d5790505090565b60006020808352835180602085015260005b818110156103b557858101830151858201604001528201610399565b506000604082860101526040601f19601f8301168501019250505092915050565b6000602082840312156103e857600080fd5b5035919050565b6000806040838503121561040257600080fd5b50508035926020909101359150565b600060c0828403121561042357600080fd5b50919050565b8060005b600381101561045857815180518552602090810151818601526040909401939091019060010161042d565b50505050565b60006101c082019050610472828451610429565b602083015161048460c0840182610429565b5060ff60408401511661018083015260ff6060840151166101a083015292915050565b6000826104c457634e487b7160e01b600052601260045260246000fd5b500490565b80820281158282048414176102dd57634e487b7160e01b600052601160045260246000fdfea2646970667358221220f37d04b65c8d3ff84d5d1e5ee91bfc1413dcb8c00156e15af968303ab8513e8e64736f6c63430008180033","sourceMap":"632:4123:24:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4642:111;4718:28;;;;;;;;;;;-1:-1:-1;;;4718:28:24;;;;4642:111;;;;4718:28;4642:111;:::i;:::-;;;;;;;;931:34:19;;961:4;931:34;;;;;713:25:26;;;701:2;686:18;931:34:19;567:177:26;1366:24:19;;;;;;:::i;:::-;;:::i;2488:98:24:-;;;2575:4;1074:41:26;;1062:2;1047:18;2488:98:24;934:187:26;651:34:19;;681:4;651:34;;828:35;;862:1;828:35;;1947:235:24;;;;;;:::i;:::-;;:::i;:::-;;;;1553:25:26;;;1609:2;1594:18;;1587:34;;;;1526:18;1947:235:24;1379:248:26;740:42:19;;;:::i;4139:219:24:-;;;;;;:::i;:::-;;:::i;2848:719::-;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;1366:24:19:-;;;;;;;;;;;;;;;-1:-1:-1;1366:24:19;:::o;1947:235:24:-;2072:14;2088;2126:23;1241:2;2126:8;:23::i;:::-;2151;1241:2;2151:8;:23::i;:::-;2118:57;;;;1947:235;;;;;:::o;740:42:19:-;774:8;780:2;681:4;774:8;:::i;:::-;740:42;:::o;4139:219:24:-;4248:14;4264;4302:23;1241:2;4302:8;:23::i;:::-;4327;1241:2;4327:8;:23::i;:::-;4294:57;;;;4139:219;;;:::o;2848:719::-;2963:22;;:::i;:::-;3045:42;945:1;1241:2;3045:10;:42::i;:::-;3028:11;;:59;3114:44;1040:9;681:4:19;1040:3:24;:9;:::i;:::-;1334:2;3114:10;:44::i;:::-;3097:11;;:14;;:61;3185:42;1142:10;681:4:19;1142::24;:10;:::i;:::-;1425:2;3185:10;:42::i;:::-;3168:11;;3180:1;3168:14;;;:59;3255:1;3237:15;;;:19;3329:42;945:1;1241:2;3329:10;:42::i;:::-;3312:11;;;;:59;3398:44;1040:9;681:4:19;1040:3:24;:9;:::i;3398:44::-;3381:11;;;;;:14;:61;3469:42;1142:10;681:4:19;1142::24;:10;:::i;3469:42::-;3452:11;;;;:14;;:59;3539:1;3521:15;;;:19;3452:11;3521:2;-1:-1:-1;2848:719:24:o;2621:96:19:-;2675:7;2701:9;961:4;2701:3;:9;:::i;:::-;2694:16;2621:96;-1:-1:-1;;2621:96:19:o;6044:206::-;-1:-1:-1;;;;;;;;;;;;;;;;;6155:88:19;;;;;;;;6188:9;6155:88;;;;6216:16;6225:6;6216:8;:16::i;:::-;6155:88;;6148:95;6044:206;-1:-1:-1;;;6044:206:19:o;-1:-1:-1:-;;;;;;;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;14:548:26:-;126:4;155:2;184;173:9;166:21;216:6;210:13;259:6;254:2;243:9;239:18;232:34;284:1;294:140;308:6;305:1;302:13;294:140;;;403:14;;;399:23;;393:30;369:17;;;388:2;365:26;358:66;323:10;;294:140;;;298:3;483:1;478:2;469:6;458:9;454:22;450:31;443:42;553:2;546;542:7;537:2;529:6;525:15;521:29;510:9;506:45;502:54;494:62;;;;14:548;;;;:::o;749:180::-;808:6;861:2;849:9;840:7;836:23;832:32;829:52;;;877:1;874;867:12;829:52;-1:-1:-1;900:23:26;;749:180;-1:-1:-1;749:180:26:o;1126:248::-;1194:6;1202;1255:2;1243:9;1234:7;1230:23;1226:32;1223:52;;;1271:1;1268;1261:12;1223:52;-1:-1:-1;;1294:23:26;;;1364:2;1349:18;;;1336:32;;-1:-1:-1;1126:248:26:o;1632:197::-;1721:6;1774:3;1762:9;1753:7;1749:23;1745:33;1742:53;;;1791:1;1788;1781:12;1742:53;-1:-1:-1;1814:9:26;1632:197;-1:-1:-1;1632:197:26:o;1834:420::-;1934:5;1957:1;1967:281;1981:4;1978:1;1975:11;1967:281;;;2038:13;;2076:9;;2064:22;;2109:4;2153:11;;;2147:18;2133:12;;;2126:40;2195:4;2186:14;;;;2223:15;;;;2001:1;1994:9;1967:281;;;1971:3;;1834:420;;:::o;2259:553::-;2413:4;2455:3;2444:9;2440:19;2432:27;;2468:57;2515:9;2506:6;2500:13;2468:57;:::i;:::-;2572:4;2564:6;2560:17;2554:24;2587:67;2648:4;2637:9;2633:20;2619:12;2587:67;:::i;:::-;;2724:4;2716;2708:6;2704:17;2698:24;2694:35;2685:6;2674:9;2670:22;2663:67;2800:4;2792;2784:6;2780:17;2774:24;2770:35;2761:6;2750:9;2746:22;2739:67;2259:553;;;;:::o;2817:217::-;2857:1;2883;2873:132;;2927:10;2922:3;2918:20;2915:1;2908:31;2962:4;2959:1;2952:15;2990:4;2987:1;2980:15;2873:132;-1:-1:-1;3019:9:26;;2817:217::o;3171:265::-;3244:9;;;3275;;3292:15;;;3286:22;;3272:37;3262:168;;3352:10;3347:3;3343:20;3340:1;3333:31;3387:4;3384:1;3377:15;3415:4;3412:1;3405:15","linkReferences":{}},"methodIdentifiers":{"BPS()":"249d39e9","MAX_FEE()":"bc063e1a","MIN_FEE()":"76c7a3c7","WAD()":"6a146024","afterInitialize(uint256,uint256)":"837aef47","afterSwap((bool,uint256,uint256,uint256,uint256,uint256))":"c2babb57","getFeeStructure((bool,uint256,uint256,uint256,uint256,uint256))":"cfa144e3","getName()":"17d7de7c","slots(uint256)":"387dd9e9","supportsFeeStructure()":"5c8ac34f"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"BPS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAX_FEE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_FEE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WAD\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"initialX\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialY\",\"type\":\"uint256\"}],\"name\":\"afterInitialize\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"bidFee\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"askFee\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"isBuy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"amountX\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountY\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"reserveX\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"reserveY\",\"type\":\"uint256\"}],\"internalType\":\"struct TradeInfo\",\"name\":\"trade\",\"type\":\"tuple\"}],\"name\":\"afterSwap\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"bidFee\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"askFee\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"isBuy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"amountX\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountY\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"reserveX\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"reserveY\",\"type\":\"uint256\"}],\"internalType\":\"struct TradeInfo\",\"name\":\"trade\",\"type\":\"tuple\"}],\"name\":\"getFeeStructure\",\"outputs\":[{\"components\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"threshold\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"}],\"internalType\":\"struct FeeTier[3]\",\"name\":\"bidTiers\",\"type\":\"tuple[3]\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"threshold\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"}],\"internalType\":\"struct FeeTier[3]\",\"name\":\"askTiers\",\"type\":\"tuple[3]\"},{\"internalType\":\"uint8\",\"name\":\"bidTierCount\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"askTierCount\",\"type\":\"uint8\"}],\"internalType\":\"struct FeeStructure\",\"name\":\"fs\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getName\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"slots\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"supportsFeeStructure\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Fee tiers:      - Small trades (0-100 X): 30 basis points (0.30%)      - Medium trades (100-1000 X): 20 basis points (0.20%)      - Large trades (1000+ X): 10 basis points (0.10%)This creates an incentive for traders to execute larger trades to get better rates\",\"kind\":\"dev\",\"methods\":{\"afterInitialize(uint256,uint256)\":{\"details\":\"Returns base tier fees (30bps) as fallback\",\"params\":{\"initialX\":\"Starting X reserve amount (unused)\",\"initialY\":\"Starting Y reserve amount (unused)\"},\"returns\":{\"askFee\":\"Base tier ask fee (30bps)\",\"bidFee\":\"Base tier bid fee (30bps)\"}},\"afterSwap((bool,uint256,uint256,uint256,uint256,uint256))\":{\"details\":\"Returns the base tier fee (30bps) for both directionsThis is only called if the router doesn't support fee structures\",\"params\":{\"trade\":\"Trade information (unused)\"},\"returns\":{\"askFee\":\"Base tier ask fee (30bps)\",\"bidFee\":\"Base tier bid fee (30bps)\"}},\"getFeeStructure((bool,uint256,uint256,uint256,uint256,uint256))\":{\"details\":\"Returns symmetric tiers for both bid and ask directions\",\"params\":{\"trade\":\"Trade information (unused in this simple implementation)\"},\"returns\":{\"fs\":\"Complete fee structure with 3 tiers\"}},\"getName()\":{\"returns\":{\"_0\":\"Strategy name with tier information\"}},\"supportsFeeStructure()\":{\"returns\":{\"_0\":\"Always returns true\"}}},\"title\":\"Tiered Fee Strategy Example\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"BPS()\":{\"notice\":\"1 basis point in WAD (0.01% = 0.0001 = 1e14)\"},\"MAX_FEE()\":{\"notice\":\"Maximum allowed fee: 10% (1e17)\"},\"MIN_FEE()\":{\"notice\":\"Minimum allowed fee: 0\"},\"WAD()\":{\"notice\":\"1e18 - represents 100% in WAD precision\"},\"afterInitialize(uint256,uint256)\":{\"notice\":\"Initialize the strategy with starting reserves\"},\"afterSwap((bool,uint256,uint256,uint256,uint256,uint256))\":{\"notice\":\"Fallback implementation for compatibility with constant-fee routers\"},\"getFeeStructure((bool,uint256,uint256,uint256,uint256,uint256))\":{\"notice\":\"Get the complete 3-tier fee structure\"},\"getName()\":{\"notice\":\"Get the strategy name for display\"},\"slots(uint256)\":{\"notice\":\"Fixed storage array - strategies can only use these 32 slots\"},\"supportsFeeStructure()\":{\"notice\":\"Indicate that this strategy supports piecewise fee structures\"}},\"notice\":\"Demonstrates a 3-tier piecewise fee structure based on trade size\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/examples/TieredFeeStrategy.sol\":\"TieredFeeStrategy\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/AMMStrategyBase.sol\":{\"keccak256\":\"0xe88584ae913da65ebcefea37bc9e8ca23d2893668966a7a52f1dff0040849c5d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8aaecb659c318b4a130c128cb390da96d3c365910077affce64d072e83578ed8\",\"dweb:/ipfs/QmQ9jheaYTri49zgMupiFo4HX6eNpmZKeq5uWHtoZmLxLE\"]},\"src/IAMMStrategy.sol\":{\"keccak256\":\"0xe13eb28d65cd27e41ef9bcc9e7d8223656f882bdc815f3d5e8f36b041bff434d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9a55a8eb42d1b1e8d01769e0699dfdcbf12786226bc447686158b6360641b337\",\"dweb:/ipfs/QmRcy4sZdCbLsvZ7YhWCtyPFvWuEFDY2qbi4q3KHBBMGkV\"]},\"src/IFeeStructure.sol\":{\"keccak256\":\"0xb64f606e7a9c929ae942ee9a7b8136616f0afbcb13256509ba61ab595f4f9f8a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://49943a35e39aea6e2c4bb5d060dce5fa2d7b9b9f91447ac5cb62d52fd5800a5e\",\"dweb:/ipfs/QmXYewSQsEnj68d3zQAtAfxcZMsSnABXtdkJGzNZpqqtrX\"]},\"src/examples/TieredFeeStrategy.sol\":{\"keccak256\":\"0xaae3ebe092bfc0769ab176ae048c799f2fb03a2fcacd817693e3f10fb1630518\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4dc0931b00bbf3e1ba2bd5dfa9471e23160cd1e43401d319223715617e7e72d1\",\"dweb:/ipfs/QmVsNYdbHoAzPmZ7R77WH4Bu5FzWhfNQVY6xANWmVQ93Sq\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"view","type":"function","name":"BPS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MIN_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"WAD","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"initialX","type":"uint256"},{"internalType":"uint256","name":"initialY","type":"uint256"}],"stateMutability":"pure","type":"function","name":"afterInitialize","outputs":[{"internalType":"uint256","name":"bidFee","type":"uint256"},{"internalType":"uint256","name":"askFee","type":"uint256"}]},{"inputs":[{"internalType":"struct TradeInfo","name":"trade","type":"tuple","components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"uint256","name":"amountX","type":"uint256"},{"internalType":"uint256","name":"amountY","type":"uint256"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"uint256","name":"reserveX","type":"uint256"},{"internalType":"uint256","name":"reserveY","type":"uint256"}]}],"stateMutability":"pure","type":"function","name":"afterSwap","outputs":[{"internalType":"uint256","name":"bidFee","type":"uint256"},{"internalType":"uint256","name":"askFee","type":"uint256"}]},{"inputs":[{"internalType":"struct TradeInfo","name":"trade","type":"tuple","components":[{"internalType":"bool","name":"isBuy","type":"bool"},{"internalType":"uint256","name":"amountX","type":"uint256"},{"internalType":"uint256","name":"amountY","type":"uint256"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"uint256","name":"reserveX","type":"uint256"},{"internalType":"uint256","name":"reserveY","type":"uint256"}]}],"stateMutability":"pure","type":"function","name":"getFeeStructure","outputs":[{"internalType":"struct FeeStructure","name":"fs","type":"tuple","components":[{"internalType":"struct FeeTier[3]","name":"bidTiers","type":"tuple[3]","components":[{"internalType":"uint256","name":"threshold","type":"uint256"},{"internalType":"uint256","name":"fee","type":"uint256"}]},{"internalType":"struct FeeTier[3]","name":"askTiers","type":"tuple[3]","components":[{"internalType":"uint256","name":"threshold","type":"uint256"},{"internalType":"uint256","name":"fee","type":"uint256"}]},{"internalType":"uint8","name":"bidTierCount","type":"uint8"},{"internalType":"uint8","name":"askTierCount","type":"uint8"}]}]},{"inputs":[],"stateMutability":"pure","type":"function","name":"getName","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"slots","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"pure","type":"function","name":"supportsFeeStructure","outputs":[{"internalType":"bool","name":"","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{"afterInitialize(uint256,uint256)":{"details":"Returns base tier fees (30bps) as fallback","params":{"initialX":"Starting X reserve amount (unused)","initialY":"Starting Y reserve amount (unused)"},"returns":{"askFee":"Base tier ask fee (30bps)","bidFee":"Base tier bid fee (30bps)"}},"afterSwap((bool,uint256,uint256,uint256,uint256,uint256))":{"details":"Returns the base tier fee (30bps) for both directionsThis is only called if the router doesn't support fee structures","params":{"trade":"Trade information (unused)"},"returns":{"askFee":"Base tier ask fee (30bps)","bidFee":"Base tier bid fee (30bps)"}},"getFeeStructure((bool,uint256,uint256,uint256,uint256,uint256))":{"details":"Returns symmetric tiers for both bid and ask directions","params":{"trade":"Trade information (unused in this simple implementation)"},"returns":{"fs":"Complete fee structure with 3 tiers"}},"getName()":{"returns":{"_0":"Strategy name with tier information"}},"supportsFeeStructure()":{"returns":{"_0":"Always returns true"}}},"version":1},"userdoc":{"kind":"user","methods":{"BPS()":{"notice":"1 basis point in WAD (0.01% = 0.0001 = 1e14)"},"MAX_FEE()":{"notice":"Maximum allowed fee: 10% (1e17)"},"MIN_FEE()":{"notice":"Minimum allowed fee: 0"},"WAD()":{"notice":"1e18 - represents 100% in WAD precision"},"afterInitialize(uint256,uint256)":{"notice":"Initialize the strategy with starting reserves"},"afterSwap((bool,uint256,uint256,uint256,uint256,uint256))":{"notice":"Fallback implementation for compatibility with constant-fee routers"},"getFeeStructure((bool,uint256,uint256,uint256,uint256,uint256))":{"notice":"Get the complete 3-tier fee structure"},"getName()":{"notice":"Get the strategy name for display"},"slots(uint256)":{"notice":"Fixed storage array - strategies can only use these 32 slots"},"supportsFeeStructure()":{"notice":"Indicate that this strategy supports piecewise fee structures"}},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/examples/TieredFeeStrategy.sol":"TieredFeeStrategy"},"evmVersion":"paris","libraries":{}},"sources":{"src/AMMStrategyBase.sol":{"keccak256":"0xe88584ae913da65ebcefea37bc9e8ca23d2893668966a7a52f1dff0040849c5d","urls":["bzz-raw://8aaecb659c318b4a130c128cb390da96d3c365910077affce64d072e83578ed8","dweb:/ipfs/QmQ9jheaYTri49zgMupiFo4HX6eNpmZKeq5uWHtoZmLxLE"],"license":"MIT"},"src/IAMMStrategy.sol":{"keccak256":"0xe13eb28d65cd27e41ef9bcc9e7d8223656f882bdc815f3d5e8f36b041bff434d","urls":["bzz-raw://9a55a8eb42d1b1e8d01769e0699dfdcbf12786226bc447686158b6360641b337","dweb:/ipfs/QmRcy4sZdCbLsvZ7YhWCtyPFvWuEFDY2qbi4q3KHBBMGkV"],"license":"MIT"},"src/IFeeStructure.sol":{"keccak256":"0xb64f606e7a9c929ae942ee9a7b8136616f0afbcb13256509ba61ab595f4f9f8a","urls":["bzz-raw://49943a35e39aea6e2c4bb5d060dce5fa2d7b9b9f91447ac5cb62d52fd5800a5e","dweb:/ipfs/QmXYewSQsEnj68d3zQAtAfxcZMsSnABXtdkJGzNZpqqtrX"],"license":"MIT"},"src/examples/TieredFeeStrategy.sol":{"keccak256":"0xaae3ebe092bfc0769ab176ae048c799f2fb03a2fcacd817693e3f10fb1630518","urls":["bzz-raw://4dc0931b00bbf3e1ba2bd5dfa9471e23160cd1e43401d319223715617e7e72d1","dweb:/ipfs/QmVsNYdbHoAzPmZ7R77WH4Bu5FzWhfNQVY6xANWmVQ93Sq"],"license":"MIT"}},"version":1},"id":24}